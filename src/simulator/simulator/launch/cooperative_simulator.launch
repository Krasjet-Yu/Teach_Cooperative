<launch>
  <!-- <node pkg="rviz" type="rviz" name="rviz" args="-d $(find mockamap)/rviz/mockamap.rviz" required="true" /> -->
  <arg name='sensor' default='laser'/>

  <include file="$(find mockamap)/launch/mockamap.launch"/>

  <group ns="drone0">
    <node pkg="nodelet" type="nodelet" name="manager" args="manager" output="screen">
      <param name="num_worker_threads" value="16"/>
    </node>

    <include file="$(find simulator)/launch/uav_simulator.launch">
      <arg name="sensor" value="$(arg sensor)"/>
    </include>

    <include file="$(find mapping)/launch/grid_map.launch">
      <arg name="sensor" value="$(arg sensor)"/>
    </include>

    <node pkg="odom_visualization" name="odom_visualization" type="odom_visualization" output="screen">
      <remap from="~odom" to="odom" />
      <!-- <param name="cross_config" value="false"/>
      <param name="mesh_resource" value="package://odom_visualization/meshes/leap.dae"/>
      <param name="robot_scale" value="0.005"/> -->
      <param name="robot_scale" value="1.0"/>
    </node>
  </group>

  <group ns="ugv0">
    <node pkg="nodelet" type="nodelet" name="manager" args="manager" output="screen">
      <param name="num_worker_threads" value="16"/>
    </node>

    <include file="$(find simulator)/launch/ugv_simulator.launch">
      <arg name="sensor" value="$(arg sensor)"/>
    </include>

    <include file="$(find mapping)/launch/grid_map.launch">
      <arg name="sensor" value="$(arg sensor)"/>
    </include>

    <node pkg="odom_visualization" name="odom_visualization" type="odom_visualization_car" output="screen">
      <remap from="~odom" to="odom" />
      <param name="cross_config" value="true"/>
      <param name="mesh_resource" value="package://odom_visualization/meshes/yutu.dae"/>
      <param name="robot_scale" value="0.001"/>
      <!-- <param name="mesh_resource" value="package://odom_visualization/meshes/car.dae"/>
      <param name="robot_scale" value="0.1"/> -->
    </node>
  </group>

</launch>